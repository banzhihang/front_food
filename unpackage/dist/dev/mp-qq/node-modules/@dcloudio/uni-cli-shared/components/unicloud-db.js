(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["node-modules/@dcloudio/uni-cli-shared/components/unicloud-db"],{

/***/ 49:
/*!**************************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-cli-shared/components/unicloud-db.vue ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unicloud-db.vue?vue&type=template&id=8ef09edc& */ 50);
/* harmony import */ var _unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unicloud-db.vue?vue&type=script&lang=js& */ 52);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 10);

var renderjs




/* normalize component */

var component = Object(_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["render"],
  _unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/uni-cli-shared/components/unicloud-db.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 50:
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-cli-shared/components/unicloud-db.vue?vue&type=template&id=8ef09edc& ***!
  \*********************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_webpack_uni_mp_loader_lib_template_js_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../webpack-uni-mp-loader/lib/template.js!../../vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../webpack-uni-mp-loader/lib/style.js!./unicloud-db.vue?vue&type=template&id=8ef09edc& */ 51);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_webpack_uni_mp_loader_lib_template_js_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_webpack_uni_mp_loader_lib_template_js_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_webpack_uni_mp_loader_lib_template_js_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_webpack_uni_mp_loader_lib_template_js_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_template_id_8ef09edc___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 51:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node_modules/@dcloudio/uni-cli-shared/components/unicloud-db.vue?vue&type=template&id=8ef09edc& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  if (_vm.$scope.data.scopedSlotsCompiler === "augmented") {
    _vm.$setScopedSlotsParams("default", {
      options: _vm.options,
      data: _vm.dataList,
      pagination: _vm.paginationInternal,
      loading: _vm.loading,
      hasMore: _vm.hasMore,
      error: _vm.errorMessage
    })
  }
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 52:
/*!***************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/uni-cli-shared/components/unicloud-db.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_loader_lib_index_js_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_webpack_uni_mp_loader_lib_script_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../babel-loader/lib!../../vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../webpack-uni-mp-loader/lib/script.js!../../vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../webpack-uni-mp-loader/lib/style.js!./unicloud-db.vue?vue&type=script&lang=js& */ 53);
/* harmony import */ var _babel_loader_lib_index_js_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_webpack_uni_mp_loader_lib_script_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_loader_lib_index_js_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_webpack_uni_mp_loader_lib_script_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _babel_loader_lib_index_js_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_webpack_uni_mp_loader_lib_script_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _babel_loader_lib_index_js_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_webpack_uni_mp_loader_lib_script_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_babel_loader_lib_index_js_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_webpack_uni_mp_loader_lib_script_js_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_webpack_uni_mp_loader_lib_style_js_unicloud_db_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 53:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node_modules/@dcloudio/uni-cli-shared/components/unicloud-db.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni, uniCloud) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;













var _uniI18n = __webpack_require__(/*! @dcloudio/uni-i18n */ 55);
var _index = _interopRequireDefault(__webpack_require__(/*! ./i18n/index */ 57));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _iterableToArray(iter) {if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}var _initVueI18n =

(0, _uniI18n.initVueI18n)(_index.default),t = _initVueI18n.t;

var events = {
  load: 'load',
  error: 'error' };

var pageMode = {
  add: 'add',
  replace: 'replace' };

var loadMode = {
  auto: 'auto',
  onready: 'onready',
  manual: 'manual' };


var attrs = [
'pageCurrent',
'pageSize',
'collection',
'action',
'field',
'getcount',
'orderby',
'where',
'groupby',
'groupField',
'distinct'];var _default2 =


{
  name: 'UniClouddb',
  props: {
    options: {
      type: [Object, Array],
      default: function _default() {
        return {};
      } },

    collection: {
      type: String,
      default: '' },

    action: {
      type: String,
      default: '' },

    field: {
      type: String,
      default: '' },

    orderby: {
      type: String,
      default: '' },

    where: {
      type: [String, Object],
      default: '' },

    pageData: {
      type: String,
      default: 'add' },

    pageCurrent: {
      type: Number,
      default: 1 },

    pageSize: {
      type: Number,
      default: 20 },

    getcount: {
      type: [Boolean, String],
      default: false },

    getone: {
      type: [Boolean, String],
      default: false },

    gettree: {
      type: [Boolean, String, Object],
      default: false },

    gettreepath: {
      type: [Boolean, String],
      default: false },

    startwith: {
      type: String,
      default: '' },

    limitlevel: {
      type: Number,
      default: 10 },

    groupby: {
      type: String,
      default: '' },

    groupField: {
      type: String,
      default: '' },

    distinct: {
      type: [Boolean, String],
      default: false },

    pageIndistinct: {
      type: [Boolean, String],
      default: false },

    foreignKey: {
      type: String,
      default: '' },

    loadtime: {
      type: String,
      default: 'auto' },

    manual: {
      type: Boolean,
      default: false } },


  data: function data() {
    return {
      loading: false,
      hasMore: false,
      dataList: this.getone ? undefined : [],
      paginationInternal: {},
      errorMessage: '' };

  },
  created: function created() {var _this = this;
    this._isEnded = false;
    this.paginationInternal = {
      current: this.pageCurrent,
      size: this.pageSize,
      count: 0 };


    this.$watch(function () {
      var al = [];
      attrs.forEach(function (key) {
        al.push(_this[key]);
      });
      return al;
    }, function (newValue, oldValue) {
      if (_this.loadtime === loadMode.manual) {
        return;
      }

      _this.paginationInternal.size = _this.pageSize;

      var needReset = false;
      for (var i = 2; i < newValue.length; i++) {
        if (newValue[i] !== oldValue[i]) {
          needReset = true;
          break;
        }
      }
      if (needReset) {
        _this.clear();
        _this.reset();
      }
      if (newValue[0] !== oldValue[0]) {
        _this.paginationInternal.current = _this.pageCurrent;
      }

      _this._execLoadData();
    });









































    if (!this.manual && this.loadtime === loadMode.auto) {
      this.loadData();
    }
  },














  methods: {
    loadData: function loadData(args1, args2) {
      var callback = null;
      var clear = false;
      if (typeof args1 === 'object') {
        if (args1.clear) {
          if (this.pageData === pageMode.replace) {
            this.clear();
          } else {
            clear = args1.clear;
          }
          this.reset();
        }
        if (args1.current !== undefined) {
          this.paginationInternal.current = args1.current;
        }
        if (typeof args2 === 'function') {
          callback = args2;
        }
      } else if (typeof args1 === 'function') {
        callback = args1;
      }

      this._execLoadData(callback, clear);
    },
    loadMore: function loadMore() {
      if (this._isEnded || this.loading) {
        return;
      }

      if (this.pageData === pageMode.add) {
        this.paginationInternal.current++;
      }

      this._execLoadData();
    },
    refresh: function refresh() {
      this.clear();
      this._execLoadData();
    },
    clear: function clear() {
      this._isEnded = false;
      this.dataList = [];
    },
    reset: function reset() {
      this.paginationInternal.current = 1;
    },
    add: function add(value)









    {var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},action = _ref.action,_ref$showToast = _ref.showToast,showToast = _ref$showToast === void 0 ? true : _ref$showToast,toastTitle = _ref.toastTitle,success = _ref.success,fail = _ref.fail,complete = _ref.complete,_ref$needConfirm = _ref.needConfirm,needConfirm = _ref$needConfirm === void 0 ? true : _ref$needConfirm,_ref$needLoading = _ref.needLoading,needLoading = _ref$needLoading === void 0 ? true : _ref$needLoading,_ref$loadingTitle = _ref.loadingTitle,loadingTitle = _ref$loadingTitle === void 0 ? '' : _ref$loadingTitle;
      if (needLoading) {
        uni.showLoading({
          title: loadingTitle });

      }
      /* eslint-disable no-undef */
      var db = uniCloud.database();
      if (action) {
        db = db.action(action);
      }

      db.collection(this._getCollection()).add(value).then(function (res) {
        success && success(res);
        if (showToast) {
          uni.showToast({
            title: toastTitle || t('uniCloud.component.add.success') });

        }
      }).catch(function (err) {
        fail && fail(err);
        if (needConfirm) {
          uni.showModal({
            content: err.message,
            showCancel: false });

        }
      }).finally(function () {
        if (needLoading) {
          uni.hideLoading();
        }
        complete && complete();
      });
    },
    remove: function remove(id)









    {var _this2 = this;var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},action = _ref2.action,_success = _ref2.success,fail = _ref2.fail,complete = _ref2.complete,confirmTitle = _ref2.confirmTitle,confirmContent = _ref2.confirmContent,_ref2$needConfirm = _ref2.needConfirm,needConfirm = _ref2$needConfirm === void 0 ? true : _ref2$needConfirm,_ref2$needLoading = _ref2.needLoading,needLoading = _ref2$needLoading === void 0 ? true : _ref2$needLoading,_ref2$loadingTitle = _ref2.loadingTitle,loadingTitle = _ref2$loadingTitle === void 0 ? '' : _ref2$loadingTitle;
      if (!id || !id.length) {
        return;
      }
      if (!needConfirm) {
        this._execRemove(id, action, _success, fail, complete, needConfirm, needLoading, loadingTitle);
        return;
      }
      uni.showModal({
        title: confirmTitle || t('uniCloud.component.remove.showModal.title'),
        content: confirmContent || t('uniCloud.component.remove.showModal.content'),
        showCancel: true,
        success: function success(res) {
          if (!res.confirm) {
            return;
          }
          _this2._execRemove(id, action, _success, fail, complete, needConfirm, needLoading, loadingTitle);
        } });

    },
    update: function update(id, value)









    {var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},action = _ref3.action,_ref3$showToast = _ref3.showToast,showToast = _ref3$showToast === void 0 ? true : _ref3$showToast,toastTitle = _ref3.toastTitle,success = _ref3.success,fail = _ref3.fail,complete = _ref3.complete,_ref3$needConfirm = _ref3.needConfirm,needConfirm = _ref3$needConfirm === void 0 ? true : _ref3$needConfirm,_ref3$needLoading = _ref3.needLoading,needLoading = _ref3$needLoading === void 0 ? true : _ref3$needLoading,_ref3$loadingTitle = _ref3.loadingTitle,loadingTitle = _ref3$loadingTitle === void 0 ? '' : _ref3$loadingTitle;
      if (needLoading) {
        uni.showLoading({
          title: loadingTitle });

      }
      /* eslint-disable no-undef */
      var db = uniCloud.database();
      if (action) {
        db = db.action(action);
      }

      return db.collection(this._getCollection()).doc(id).update(value).then(function (res) {
        success && success(res);
        if (showToast) {
          uni.showToast({
            title: toastTitle || t('uniCloud.component.update.success') });

        }
      }).catch(function (err) {
        fail && fail(err);
        if (needConfirm) {
          uni.showModal({
            content: err.message,
            showCancel: false });

        }
      }).finally(function () {
        if (needLoading) {
          uni.hideLoading();
        }
        complete && complete();
      });
    },
    getTemp: function getTemp() {var isTemp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      /* eslint-disable no-undef */
      var db = uniCloud.database();

      if (this.action) {
        db = db.action(this.action);
      }

      db = db.collection(this.collection);

      if (!(!this.where || !Object.keys(this.where).length)) {
        db = db.where(this.where);
      }
      if (this.field) {
        db = db.field(this.field);
      }
      if (this.foreignKey) {
        db = db.foreignKey(this.foreignKey);
      }
      if (this.groupby) {
        db = db.groupBy(this.groupby);
      }
      if (this.groupField) {
        db = db.groupField(this.groupField);
      }
      if (this.distinct === true) {
        db = db.distinct();
      }
      if (this.orderby) {
        db = db.orderBy(this.orderby);
      }var _this$paginationInter =




      this.paginationInternal,current = _this$paginationInter.current,size = _this$paginationInter.size;
      var getOptions = {};
      if (this.getcount) {
        getOptions.getCount = this.getcount;
      }
      var treeOptions = {
        limitLevel: this.limitlevel,
        startWith: this.startwith };

      if (this.gettree) {
        getOptions.getTree = treeOptions;
      }
      if (this.gettreepath) {
        getOptions.getTreePath = treeOptions;
      }
      db = db.skip(size * (current - 1)).limit(size);

      if (isTemp) {
        db = db.getTemp(getOptions);
        db.udb = this;
      } else {
        db = db.get(getOptions);
      }

      return db;
    },
    setResult: function setResult(result) {
      if (result.code === 0) {
        this._execLoadDataSuccess(result);
      } else {
        this._execLoadDataFail(new Error(result.message));
      }
    },
    _execLoadData: function _execLoadData(callback, clear) {var _this3 = this;
      if (this.loading) {
        return;
      }
      this.loading = true;
      this.errorMessage = '';

      this._getExec().then(function (res) {
        _this3.loading = false;
        _this3._execLoadDataSuccess(res.result, callback, clear);












      }).catch(function (err) {
        _this3.loading = false;
        _this3._execLoadDataFail(err, callback);
      });
    },
    _execLoadDataSuccess: function _execLoadDataSuccess(result, callback, clear) {var

      data =

      result.data,count = result.count;
      this._isEnded = count !== undefined ? this.paginationInternal.current * this.paginationInternal.size >= count : data.length < this.pageSize;
      this.hasMore = !this._isEnded;

      var data2 = this.getone ? data.length ? data[0] : undefined : data;

      if (this.getcount) {
        this.paginationInternal.count = count;
      }

      callback && callback(data2, this._isEnded, this.paginationInternal);
      this._dispatchEvent(events.load, data2);

      if (this.getone || this.pageData === pageMode.replace) {
        this.dataList = data2;
      } else {
        if (clear) {
          this.dataList = data2;
        } else {var _this$dataList;
          (_this$dataList = this.dataList).push.apply(_this$dataList, _toConsumableArray(data2));
        }
      }
    },
    _execLoadDataFail: function _execLoadDataFail(err, callback) {
      this.errorMessage = err;
      callback && callback();
      this.$emit(events.error, err);
      if (true) {
        console.error(err);
      }
    },
    _getExec: function _getExec() {
      return this.getTemp(false);
    },
    _execRemove: function _execRemove(id, action, success, fail, complete, needConfirm, needLoading, loadingTitle) {var _this4 = this;
      if (!this.collection || !id) {
        return;
      }

      var ids = Array.isArray(id) ? id : [id];
      if (!ids.length) {
        return;
      }

      if (needLoading) {
        uni.showLoading({
          mask: true,
          title: loadingTitle });

      }

      /* eslint-disable no-undef */
      var db = uniCloud.database();
      var dbCmd = db.command;

      var exec = db;
      if (action) {
        exec = exec.action(action);
      }

      exec.collection(this._getCollection()).where({
        _id: dbCmd.in(ids) }).
      remove().then(function (res) {
        success && success(res.result);
        if (_this4.pageData === pageMode.replace) {
          _this4.refresh();
        } else {
          _this4.removeData(ids);
        }
      }).catch(function (err) {
        fail && fail(err);
        if (needConfirm) {
          uni.showModal({
            content: err.message,
            showCancel: false });

        }
      }).finally(function () {
        if (needLoading) {
          uni.hideLoading();
        }
        complete && complete();
      });
    },
    _getCollection: function _getCollection() {
      var index = this.collection.indexOf(',');
      var collection = index > 0 ? this.collection.substring(0, index) : this.collection;
      return collection;
    },
    removeData: function removeData(ids) {
      var il = ids.slice(0);
      var dl = this.dataList;
      for (var i = dl.length - 1; i >= 0; i--) {
        var index = il.indexOf(dl[i]._id);
        if (index >= 0) {
          dl.splice(i, 1);
          il.splice(index, 1);
        }
      }
    },
    _dispatchEvent: function _dispatchEvent(type, data) {
      if (this._changeDataFunction) {
        this._changeDataFunction(data, this._isEnded, this.paginationInternal);
      } else {
        this.$emit(type, data, this._isEnded, this.paginationInternal);
      }
    } } };exports.default = _default2;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-qq/dist/index.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js */ 54)["default"]))

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRjbG91ZGlvL3VuaS1jbGktc2hhcmVkL2NvbXBvbmVudHMvdW5pY2xvdWQtZGIudnVlP2EwMzYiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BkY2xvdWRpby91bmktY2xpLXNoYXJlZC9jb21wb25lbnRzL3VuaWNsb3VkLWRiLnZ1ZT80ZjE4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZGNsb3VkaW8vdW5pLWNsaS1zaGFyZWQvY29tcG9uZW50cy91bmljbG91ZC1kYi52dWU/N2FjMSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRjbG91ZGlvL3VuaS1jbGktc2hhcmVkL2NvbXBvbmVudHMvdW5pY2xvdWQtZGIudnVlPzE3ZDUiLCJ3ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9AZGNsb3VkaW8vdW5pLWNsaS1zaGFyZWQvY29tcG9uZW50cy91bmljbG91ZC1kYi52dWU/NTA3OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3SDtBQUN4SDtBQUMrRDtBQUNMOzs7QUFHMUQ7QUFDeUc7QUFDekcsZ0JBQWdCLDBIQUFVO0FBQzFCLEVBQUUsaUZBQU07QUFDUixFQUFFLHNGQUFNO0FBQ1IsRUFBRSwrRkFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwwRkFBVTtBQUNaO0FBQ0E7O0FBRUE7QUFDZSxnRjs7Ozs7Ozs7Ozs7O0FDdEJmO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDbEJBO0FBQUE7QUFBQTtBQUFBO0FBQW1WLENBQWdCLCtYQUFHLEVBQUMsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNjdlc7QUFDQSxpRjs7QUFFQSx5QyxDQUFBLEMsZ0JBQUEsQzs7QUFFQTtBQUNBLGNBREE7QUFFQSxnQkFGQTs7QUFJQTtBQUNBLFlBREE7QUFFQSxvQkFGQTs7QUFJQTtBQUNBLGNBREE7QUFFQSxvQkFGQTtBQUdBLGtCQUhBOzs7QUFNQTtBQUNBLGFBREE7QUFFQSxVQUZBO0FBR0EsWUFIQTtBQUlBLFFBSkE7QUFLQSxPQUxBO0FBTUEsVUFOQTtBQU9BLFNBUEE7QUFRQSxPQVJBO0FBU0EsU0FUQTtBQVVBLFlBVkE7QUFXQSxVQVhBLEU7OztBQWNBO0FBQ0Esb0JBREE7QUFFQTtBQUNBO0FBQ0EsMkJBREE7QUFFQSxhQUZBLHNCQUVBO0FBQ0E7QUFDQSxPQUpBLEVBREE7O0FBT0E7QUFDQSxrQkFEQTtBQUVBLGlCQUZBLEVBUEE7O0FBV0E7QUFDQSxrQkFEQTtBQUVBLGlCQUZBLEVBWEE7O0FBZUE7QUFDQSxrQkFEQTtBQUVBLGlCQUZBLEVBZkE7O0FBbUJBO0FBQ0Esa0JBREE7QUFFQSxpQkFGQSxFQW5CQTs7QUF1QkE7QUFDQSw0QkFEQTtBQUVBLGlCQUZBLEVBdkJBOztBQTJCQTtBQUNBLGtCQURBO0FBRUEsb0JBRkEsRUEzQkE7O0FBK0JBO0FBQ0Esa0JBREE7QUFFQSxnQkFGQSxFQS9CQTs7QUFtQ0E7QUFDQSxrQkFEQTtBQUVBLGlCQUZBLEVBbkNBOztBQXVDQTtBQUNBLDZCQURBO0FBRUEsb0JBRkEsRUF2Q0E7O0FBMkNBO0FBQ0EsNkJBREE7QUFFQSxvQkFGQSxFQTNDQTs7QUErQ0E7QUFDQSxxQ0FEQTtBQUVBLG9CQUZBLEVBL0NBOztBQW1EQTtBQUNBLDZCQURBO0FBRUEsb0JBRkEsRUFuREE7O0FBdURBO0FBQ0Esa0JBREE7QUFFQSxpQkFGQSxFQXZEQTs7QUEyREE7QUFDQSxrQkFEQTtBQUVBLGlCQUZBLEVBM0RBOztBQStEQTtBQUNBLGtCQURBO0FBRUEsaUJBRkEsRUEvREE7O0FBbUVBO0FBQ0Esa0JBREE7QUFFQSxpQkFGQSxFQW5FQTs7QUF1RUE7QUFDQSw2QkFEQTtBQUVBLG9CQUZBLEVBdkVBOztBQTJFQTtBQUNBLDZCQURBO0FBRUEsb0JBRkEsRUEzRUE7O0FBK0VBO0FBQ0Esa0JBREE7QUFFQSxpQkFGQSxFQS9FQTs7QUFtRkE7QUFDQSxrQkFEQTtBQUVBLHFCQUZBLEVBbkZBOztBQXVGQTtBQUNBLG1CQURBO0FBRUEsb0JBRkEsRUF2RkEsRUFGQTs7O0FBOEZBLE1BOUZBLGtCQThGQTtBQUNBO0FBQ0Esb0JBREE7QUFFQSxvQkFGQTtBQUdBLDRDQUhBO0FBSUEsNEJBSkE7QUFLQSxzQkFMQTs7QUFPQSxHQXRHQTtBQXVHQSxTQXZHQSxxQkF1R0E7QUFDQTtBQUNBO0FBQ0EsK0JBREE7QUFFQSx5QkFGQTtBQUdBLGNBSEE7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FGQTtBQUdBO0FBQ0EsS0FOQSxFQU1BO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQTdCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUVBO0FBQ0E7QUFDQTtBQUNBLEdBekxBOzs7Ozs7Ozs7Ozs7Ozs7QUF3TUE7QUFDQSxZQURBLG9CQUNBLEtBREEsRUFDQSxLQURBLEVBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUZBLE1BRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BZkEsTUFlQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQXhCQTtBQXlCQSxZQXpCQSxzQkF5QkE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FuQ0E7QUFvQ0EsV0FwQ0EscUJBb0NBO0FBQ0E7QUFDQTtBQUNBLEtBdkNBO0FBd0NBLFNBeENBLG1CQXdDQTtBQUNBO0FBQ0E7QUFDQSxLQTNDQTtBQTRDQSxTQTVDQSxtQkE0Q0E7QUFDQTtBQUNBLEtBOUNBO0FBK0NBLE9BL0NBLGVBK0NBLEtBL0NBOzs7Ozs7Ozs7O0FBeURBLHVGQVRBLE1BU0EsUUFUQSxNQVNBLHVCQVJBLFNBUUEsQ0FSQSxTQVFBLCtCQVJBLElBUUEsa0JBUEEsVUFPQSxRQVBBLFVBT0EsQ0FOQSxPQU1BLFFBTkEsT0FNQSxDQUxBLElBS0EsUUFMQSxJQUtBLENBSkEsUUFJQSxRQUpBLFFBSUEseUJBSEEsV0FHQSxDQUhBLFdBR0EsaUNBSEEsSUFHQSw0Q0FGQSxXQUVBLENBRkEsV0FFQSxpQ0FGQSxJQUVBLDZDQURBLFlBQ0EsQ0FEQSxZQUNBLGtDQURBLEVBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBREE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBREE7O0FBR0E7QUFDQSxPQVBBLEVBT0EsS0FQQSxDQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBREE7QUFFQSw2QkFGQTs7QUFJQTtBQUNBLE9BZkEsRUFlQSxPQWZBLENBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BcEJBO0FBcUJBLEtBMUZBO0FBMkZBLFVBM0ZBLGtCQTJGQSxFQTNGQTs7Ozs7Ozs7OztBQXFHQSwwR0FUQSxNQVNBLFNBVEEsTUFTQSxDQVJBLFFBUUEsU0FSQSxPQVFBLENBUEEsSUFPQSxTQVBBLElBT0EsQ0FOQSxRQU1BLFNBTkEsUUFNQSxDQUxBLFlBS0EsU0FMQSxZQUtBLENBSkEsY0FJQSxTQUpBLGNBSUEsMkJBSEEsV0FHQSxDQUhBLFdBR0Esa0NBSEEsSUFHQSwrQ0FGQSxXQUVBLENBRkEsV0FFQSxrQ0FGQSxJQUVBLGdEQURBLFlBQ0EsQ0FEQSxZQUNBLG1DQURBLEVBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBREE7QUFFQSxtRkFGQTtBQUdBLHdCQUhBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBVEE7O0FBV0EsS0F4SEE7QUF5SEEsVUF6SEEsa0JBeUhBLEVBekhBLEVBeUhBLEtBekhBOzs7Ozs7Ozs7O0FBbUlBLHdGQVRBLE1BU0EsU0FUQSxNQVNBLHlCQVJBLFNBUUEsQ0FSQSxTQVFBLGdDQVJBLElBUUEsbUJBUEEsVUFPQSxTQVBBLFVBT0EsQ0FOQSxPQU1BLFNBTkEsT0FNQSxDQUxBLElBS0EsU0FMQSxJQUtBLENBSkEsUUFJQSxTQUpBLFFBSUEsMkJBSEEsV0FHQSxDQUhBLFdBR0Esa0NBSEEsSUFHQSwrQ0FGQSxXQUVBLENBRkEsV0FFQSxrQ0FGQSxJQUVBLGdEQURBLFlBQ0EsQ0FEQSxZQUNBLG1DQURBLEVBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBREE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBREE7O0FBR0E7QUFDQSxPQVBBLEVBT0EsS0FQQSxDQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBREE7QUFFQSw2QkFGQTs7QUFJQTtBQUNBLE9BZkEsRUFlQSxPQWZBLENBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BcEJBO0FBcUJBLEtBcEtBO0FBcUtBLFdBcktBLHFCQXFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQTlCQTs7Ozs7QUFtQ0EsNkJBbkNBLENBaUNBLE9BakNBLHlCQWlDQSxPQWpDQSxDQWtDQSxJQWxDQSx5QkFrQ0EsSUFsQ0E7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQURBO0FBRUEsaUNBRkE7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FIQSxNQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBak9BO0FBa09BLGFBbE9BLHFCQWtPQSxNQWxPQSxFQWtPQTtBQUNBO0FBQ0E7QUFDQSxPQUZBLE1BRUE7QUFDQTtBQUNBO0FBQ0EsS0F4T0E7QUF5T0EsaUJBek9BLHlCQXlPQSxRQXpPQSxFQXlPQSxLQXpPQSxFQXlPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBYUEsT0FmQSxFQWVBLEtBZkEsQ0FlQTtBQUNBO0FBQ0E7QUFDQSxPQWxCQTtBQW1CQSxLQW5RQTtBQW9RQSx3QkFwUUEsZ0NBb1FBLE1BcFFBLEVBb1FBLFFBcFFBLEVBb1FBLEtBcFFBLEVBb1FBOztBQUVBLFVBRkE7O0FBSUEsWUFKQSxDQUVBLElBRkEsQ0FHQSxLQUhBLEdBSUEsTUFKQSxDQUdBLEtBSEE7QUFLQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUZBLE1BRUE7QUFDQTtBQUNBO0FBQ0EsU0FGQSxNQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0E5UkE7QUErUkEscUJBL1JBLDZCQStSQSxHQS9SQSxFQStSQSxRQS9SQSxFQStSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBdFNBO0FBdVNBLFlBdlNBLHNCQXVTQTtBQUNBO0FBQ0EsS0F6U0E7QUEwU0EsZUExU0EsdUJBMFNBLEVBMVNBLEVBMFNBLE1BMVNBLEVBMFNBLE9BMVNBLEVBMFNBLElBMVNBLEVBMFNBLFFBMVNBLEVBMFNBLFdBMVNBLEVBMFNBLFdBMVNBLEVBMFNBLFlBMVNBLEVBMFNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFEQTtBQUVBLDZCQUZBOztBQUlBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQURBO0FBRUEsWUFGQSxHQUVBLElBRkEsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBRkEsTUFFQTtBQUNBO0FBQ0E7QUFDQSxPQVRBLEVBU0EsS0FUQSxDQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBREE7QUFFQSw2QkFGQTs7QUFJQTtBQUNBLE9BakJBLEVBaUJBLE9BakJBLENBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQXRCQTtBQXVCQSxLQTNWQTtBQTRWQSxrQkE1VkEsNEJBNFZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FoV0E7QUFpV0EsY0FqV0Esc0JBaVdBLEdBaldBLEVBaVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0EzV0E7QUE0V0Esa0JBNVdBLDBCQTRXQSxJQTVXQSxFQTRXQSxJQTVXQSxFQTRXQTtBQUNBO0FBQ0E7QUFDQSxPQUZBLE1BRUE7QUFDQTtBQUNBO0FBQ0EsS0FsWEEsRUF4TUEsRSIsImZpbGUiOiJub2RlLW1vZHVsZXMvQGRjbG91ZGlvL3VuaS1jbGktc2hhcmVkL2NvbXBvbmVudHMvdW5pY2xvdWQtZGIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucywgcmVjeWNsYWJsZVJlbmRlciwgY29tcG9uZW50cyB9IGZyb20gXCIuL3VuaWNsb3VkLWRiLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD04ZWYwOWVkYyZcIlxudmFyIHJlbmRlcmpzXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL3VuaWNsb3VkLWRiLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vdW5pY2xvdWQtZGIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi92dWUtY2xpLXBsdWdpbi11bmkvcGFja2FnZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgZmFsc2UsXG4gIGNvbXBvbmVudHMsXG4gIHJlbmRlcmpzXG4pXG5cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwiQXBwbGljYXRpb25zL0hCdWlsZGVyWC5hcHAvQ29udGVudHMvSEJ1aWxkZXJYL3BsdWdpbnMvdW5pYXBwLWNsaS9ub2RlX21vZHVsZXMvQGRjbG91ZGlvL3VuaS1jbGktc2hhcmVkL2NvbXBvbmVudHMvdW5pY2xvdWQtZGIudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vdnVlLWNsaS1wbHVnaW4tdW5pL3BhY2thZ2VzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuLi8uLi92dWUtY2xpLXBsdWdpbi11bmkvcGFja2FnZXMvd2VicGFjay1wcmVwcm9jZXNzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0xNi0wIS4uLy4uL3dlYnBhY2stdW5pLW1wLWxvYWRlci9saWIvdGVtcGxhdGUuanMhLi4vLi4vdnVlLWNsaS1wbHVnaW4tdW5pL3BhY2thZ2VzL3dlYnBhY2stdW5pLWFwcC1sb2FkZXIvcGFnZS1tZXRhLmpzIS4uLy4uL3Z1ZS1jbGktcGx1Z2luLXVuaS9wYWNrYWdlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4uLy4uL3dlYnBhY2stdW5pLW1wLWxvYWRlci9saWIvc3R5bGUuanMhLi91bmljbG91ZC1kYi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9OGVmMDllZGMmXCIiLCJ2YXIgY29tcG9uZW50c1xudmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIGlmIChfdm0uJHNjb3BlLmRhdGEuc2NvcGVkU2xvdHNDb21waWxlciA9PT0gXCJhdWdtZW50ZWRcIikge1xuICAgIF92bS4kc2V0U2NvcGVkU2xvdHNQYXJhbXMoXCJkZWZhdWx0XCIsIHtcbiAgICAgIG9wdGlvbnM6IF92bS5vcHRpb25zLFxuICAgICAgZGF0YTogX3ZtLmRhdGFMaXN0LFxuICAgICAgcGFnaW5hdGlvbjogX3ZtLnBhZ2luYXRpb25JbnRlcm5hbCxcbiAgICAgIGxvYWRpbmc6IF92bS5sb2FkaW5nLFxuICAgICAgaGFzTW9yZTogX3ZtLmhhc01vcmUsXG4gICAgICBlcnJvcjogX3ZtLmVycm9yTWVzc2FnZVxuICAgIH0pXG4gIH1cbn1cbnZhciByZWN5Y2xhYmxlUmVuZGVyID0gZmFsc2VcbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zLCByZWN5Y2xhYmxlUmVuZGVyLCBjb21wb25lbnRzIH0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vdnVlLWNsaS1wbHVnaW4tdW5pL3BhY2thZ2VzL3dlYnBhY2stcHJlcHJvY2Vzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMTItMSEuLi8uLi93ZWJwYWNrLXVuaS1tcC1sb2FkZXIvbGliL3NjcmlwdC5qcyEuLi8uLi92dWUtY2xpLXBsdWdpbi11bmkvcGFja2FnZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuLi8uLi93ZWJwYWNrLXVuaS1tcC1sb2FkZXIvbGliL3N0eWxlLmpzIS4vdW5pY2xvdWQtZGIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vdnVlLWNsaS1wbHVnaW4tdW5pL3BhY2thZ2VzL3dlYnBhY2stcHJlcHJvY2Vzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMTItMSEuLi8uLi93ZWJwYWNrLXVuaS1tcC1sb2FkZXIvbGliL3NjcmlwdC5qcyEuLi8uLi92dWUtY2xpLXBsdWdpbi11bmkvcGFja2FnZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuLi8uLi93ZWJwYWNrLXVuaS1tcC1sb2FkZXIvbGliL3N0eWxlLmpzIS4vdW5pY2xvdWQtZGIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiPHRlbXBsYXRlPlxuICA8dmlldz5cbiAgICA8c2xvdFxuICAgICAgOm9wdGlvbnM9XCJvcHRpb25zXCJcbiAgICAgIDpkYXRhPVwiZGF0YUxpc3RcIlxuICAgICAgOnBhZ2luYXRpb249XCJwYWdpbmF0aW9uSW50ZXJuYWxcIlxuICAgICAgOmxvYWRpbmc9XCJsb2FkaW5nXCJcbiAgICAgIDpoYXNNb3JlPVwiaGFzTW9yZVwiXG4gICAgICA6ZXJyb3I9XCJlcnJvck1lc3NhZ2VcIlxuICAgIC8+XG4gIDwvdmlldz5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgeyBpbml0VnVlSTE4biB9IGZyb20gJ0BkY2xvdWRpby91bmktaTE4bidcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuL2kxOG4vaW5kZXgnXG5cbmNvbnN0IHsgdCB9ID0gaW5pdFZ1ZUkxOG4obWVzc2FnZXMpXG5cbmNvbnN0IGV2ZW50cyA9IHtcbiAgbG9hZDogJ2xvYWQnLFxuICBlcnJvcjogJ2Vycm9yJ1xufVxuY29uc3QgcGFnZU1vZGUgPSB7XG4gIGFkZDogJ2FkZCcsXG4gIHJlcGxhY2U6ICdyZXBsYWNlJ1xufVxuY29uc3QgbG9hZE1vZGUgPSB7XG4gIGF1dG86ICdhdXRvJyxcbiAgb25yZWFkeTogJ29ucmVhZHknLFxuICBtYW51YWw6ICdtYW51YWwnXG59XG5cbmNvbnN0IGF0dHJzID0gW1xuICAncGFnZUN1cnJlbnQnLFxuICAncGFnZVNpemUnLFxuICAnY29sbGVjdGlvbicsXG4gICdhY3Rpb24nLFxuICAnZmllbGQnLFxuICAnZ2V0Y291bnQnLFxuICAnb3JkZXJieScsXG4gICd3aGVyZScsXG4gICdncm91cGJ5JyxcbiAgJ2dyb3VwRmllbGQnLFxuICAnZGlzdGluY3QnXG5dXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ1VuaUNsb3VkZGInLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IFtPYmplY3QsIEFycmF5XSxcbiAgICAgIGRlZmF1bHQgKCkge1xuICAgICAgICByZXR1cm4ge31cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbGxlY3Rpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBmaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIG9yZGVyYnk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICB3aGVyZToge1xuICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBwYWdlRGF0YToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2FkZCdcbiAgICB9LFxuICAgIHBhZ2VDdXJyZW50OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICBwYWdlU2l6ZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMjBcbiAgICB9LFxuICAgIGdldGNvdW50OiB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBnZXRvbmU6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGdldHRyZWU6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmcsIE9iamVjdF0sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgZ2V0dHJlZXBhdGg6IHtcbiAgICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIHN0YXJ0d2l0aDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIGxpbWl0bGV2ZWw6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDEwXG4gICAgfSxcbiAgICBncm91cGJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnJ1xuICAgIH0sXG4gICAgZ3JvdXBGaWVsZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIGRpc3RpbmN0OiB7XG4gICAgICB0eXBlOiBbQm9vbGVhbiwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBwYWdlSW5kaXN0aW5jdDoge1xuICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgZm9yZWlnbktleToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIGxvYWR0aW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnYXV0bydcbiAgICB9LFxuICAgIG1hbnVhbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICBoYXNNb3JlOiBmYWxzZSxcbiAgICAgIGRhdGFMaXN0OiB0aGlzLmdldG9uZSA/IHVuZGVmaW5lZCA6IFtdLFxuICAgICAgcGFnaW5hdGlvbkludGVybmFsOiB7fSxcbiAgICAgIGVycm9yTWVzc2FnZTogJydcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQgKCkge1xuICAgIHRoaXMuX2lzRW5kZWQgPSBmYWxzZVxuICAgIHRoaXMucGFnaW5hdGlvbkludGVybmFsID0ge1xuICAgICAgY3VycmVudDogdGhpcy5wYWdlQ3VycmVudCxcbiAgICAgIHNpemU6IHRoaXMucGFnZVNpemUsXG4gICAgICBjb3VudDogMFxuICAgIH1cblxuICAgIHRoaXMuJHdhdGNoKCgpID0+IHtcbiAgICAgIHZhciBhbCA9IFtdXG4gICAgICBhdHRycy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGFsLnB1c2godGhpc1trZXldKVxuICAgICAgfSlcbiAgICAgIHJldHVybiBhbFxuICAgIH0sIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmICh0aGlzLmxvYWR0aW1lID09PSBsb2FkTW9kZS5tYW51YWwpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMucGFnaW5hdGlvbkludGVybmFsLnNpemUgPSB0aGlzLnBhZ2VTaXplXG5cbiAgICAgIGxldCBuZWVkUmVzZXQgPSBmYWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBuZXdWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobmV3VmFsdWVbaV0gIT09IG9sZFZhbHVlW2ldKSB7XG4gICAgICAgICAgbmVlZFJlc2V0ID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuZWVkUmVzZXQpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgfVxuICAgICAgaWYgKG5ld1ZhbHVlWzBdICE9PSBvbGRWYWx1ZVswXSkge1xuICAgICAgICB0aGlzLnBhZ2luYXRpb25JbnRlcm5hbC5jdXJyZW50ID0gdGhpcy5wYWdlQ3VycmVudFxuICAgICAgfVxuXG4gICAgICB0aGlzLl9leGVjTG9hZERhdGEoKVxuICAgIH0pXG5cbiAgICAvLyAjaWZkZWYgSDVcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIHRoaXMuX2RlYnVnRGF0YUxpc3QgPSBbXVxuICAgICAgaWYgKCF3aW5kb3cudW5pZGV2KSB7XG4gICAgICAgIHdpbmRvdy51bmlkZXYgPSB7XG4gICAgICAgICAgY2xpZW50REI6IHtcbiAgICAgICAgICAgIGRhdGE6IFtdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aW5kb3cudW5pZGV2LmNsaWVudERCLmRhdGEucHVzaCh0aGlzLl9kZWJ1Z0RhdGFMaXN0KVxuICAgIH1cbiAgICAvLyAjZW5kaWZcblxuICAgIC8vICNpZmRlZiBNUC1UT1VUSUFPXG4gICAgbGV0IGNoYW5nZU5hbWVcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLiRzY29wZS5kYXRhc2V0LmV2ZW50T3B0cyB8fCBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tpXVxuICAgICAgaWYgKGV2ZW50WzBdLmluY2x1ZGVzKCdebG9hZCcpKSB7XG4gICAgICAgIGNoYW5nZU5hbWUgPSBldmVudFsxXVswXVswXVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhbmdlTmFtZSkge1xuICAgICAgbGV0IHBhcmVudCA9IHRoaXMuJHBhcmVudFxuICAgICAgbGV0IG1heERlcHRoID0gMTZcbiAgICAgIHRoaXMuX2NoYW5nZURhdGFGdW5jdGlvbiA9IG51bGxcbiAgICAgIHdoaWxlIChwYXJlbnQgJiYgbWF4RGVwdGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGZ1biA9IHBhcmVudFtjaGFuZ2VOYW1lXVxuICAgICAgICBpZiAoZnVuICYmIHR5cGVvZiBmdW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLl9jaGFuZ2VEYXRhRnVuY3Rpb24gPSBmdW5cbiAgICAgICAgICBtYXhEZXB0aCA9IDBcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC4kcGFyZW50XG4gICAgICAgIG1heERlcHRoLS1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gI2VuZGlmXG5cbiAgICBpZiAoIXRoaXMubWFudWFsICYmIHRoaXMubG9hZHRpbWUgPT09IGxvYWRNb2RlLmF1dG8pIHtcbiAgICAgIHRoaXMubG9hZERhdGEoKVxuICAgIH1cbiAgfSxcbiAgLy8gI2lmZGVmIEg1XG4gIGJlZm9yZURlc3Ryb3kgKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiB3aW5kb3cudW5pZGV2KSB7XG4gICAgICB2YXIgY2QgPSB0aGlzLl9kZWJ1Z0RhdGFMaXN0XG4gICAgICB2YXIgZGwgPSB3aW5kb3cudW5pZGV2LmNsaWVudERCLmRhdGFcbiAgICAgIGZvciAodmFyIGkgPSBkbC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoZGxbaV0gPT09IGNkKSB7XG4gICAgICAgICAgZGwuc3BsaWNlKGksIDEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgLy8gI2VuZGlmXG4gIG1ldGhvZHM6IHtcbiAgICBsb2FkRGF0YSAoYXJnczEsIGFyZ3MyKSB7XG4gICAgICBsZXQgY2FsbGJhY2sgPSBudWxsXG4gICAgICBsZXQgY2xlYXIgPSBmYWxzZVxuICAgICAgaWYgKHR5cGVvZiBhcmdzMSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKGFyZ3MxLmNsZWFyKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGFnZURhdGEgPT09IHBhZ2VNb2RlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhciA9IGFyZ3MxLmNsZWFyXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzMS5jdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLnBhZ2luYXRpb25JbnRlcm5hbC5jdXJyZW50ID0gYXJnczEuY3VycmVudFxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYXJnczIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3MyXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3MxID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrID0gYXJnczFcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZXhlY0xvYWREYXRhKGNhbGxiYWNrLCBjbGVhcilcbiAgICB9LFxuICAgIGxvYWRNb3JlICgpIHtcbiAgICAgIGlmICh0aGlzLl9pc0VuZGVkIHx8IHRoaXMubG9hZGluZykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucGFnZURhdGEgPT09IHBhZ2VNb2RlLmFkZCkge1xuICAgICAgICB0aGlzLnBhZ2luYXRpb25JbnRlcm5hbC5jdXJyZW50KytcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZXhlY0xvYWREYXRhKClcbiAgICB9LFxuICAgIHJlZnJlc2ggKCkge1xuICAgICAgdGhpcy5jbGVhcigpXG4gICAgICB0aGlzLl9leGVjTG9hZERhdGEoKVxuICAgIH0sXG4gICAgY2xlYXIgKCkge1xuICAgICAgdGhpcy5faXNFbmRlZCA9IGZhbHNlXG4gICAgICB0aGlzLmRhdGFMaXN0ID0gW11cbiAgICB9LFxuICAgIHJlc2V0ICgpIHtcbiAgICAgIHRoaXMucGFnaW5hdGlvbkludGVybmFsLmN1cnJlbnQgPSAxXG4gICAgfSxcbiAgICBhZGQgKHZhbHVlLCB7XG4gICAgICBhY3Rpb24sXG4gICAgICBzaG93VG9hc3QgPSB0cnVlLFxuICAgICAgdG9hc3RUaXRsZSxcbiAgICAgIHN1Y2Nlc3MsXG4gICAgICBmYWlsLFxuICAgICAgY29tcGxldGUsXG4gICAgICBuZWVkQ29uZmlybSA9IHRydWUsXG4gICAgICBuZWVkTG9hZGluZyA9IHRydWUsXG4gICAgICBsb2FkaW5nVGl0bGUgPSAnJ1xuICAgIH0gPSB7fSkge1xuICAgICAgaWYgKG5lZWRMb2FkaW5nKSB7XG4gICAgICAgIHVuaS5zaG93TG9hZGluZyh7XG4gICAgICAgICAgdGl0bGU6IGxvYWRpbmdUaXRsZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbiAgICAgIGxldCBkYiA9IHVuaUNsb3VkLmRhdGFiYXNlKClcbiAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgZGIgPSBkYi5hY3Rpb24oYWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBkYi5jb2xsZWN0aW9uKHRoaXMuX2dldENvbGxlY3Rpb24oKSkuYWRkKHZhbHVlKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKHJlcylcbiAgICAgICAgaWYgKHNob3dUb2FzdCkge1xuICAgICAgICAgIHVuaS5zaG93VG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IHRvYXN0VGl0bGUgfHwgdCgndW5pQ2xvdWQuY29tcG9uZW50LmFkZC5zdWNjZXNzJylcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGZhaWwgJiYgZmFpbChlcnIpXG4gICAgICAgIGlmIChuZWVkQ29uZmlybSkge1xuICAgICAgICAgIHVuaS5zaG93TW9kYWwoe1xuICAgICAgICAgICAgY29udGVudDogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICBzaG93Q2FuY2VsOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBpZiAobmVlZExvYWRpbmcpIHtcbiAgICAgICAgICB1bmkuaGlkZUxvYWRpbmcoKVxuICAgICAgICB9XG4gICAgICAgIGNvbXBsZXRlICYmIGNvbXBsZXRlKClcbiAgICAgIH0pXG4gICAgfSxcbiAgICByZW1vdmUgKGlkLCB7XG4gICAgICBhY3Rpb24sXG4gICAgICBzdWNjZXNzLFxuICAgICAgZmFpbCxcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgY29uZmlybVRpdGxlLFxuICAgICAgY29uZmlybUNvbnRlbnQsXG4gICAgICBuZWVkQ29uZmlybSA9IHRydWUsXG4gICAgICBuZWVkTG9hZGluZyA9IHRydWUsXG4gICAgICBsb2FkaW5nVGl0bGUgPSAnJ1xuICAgIH0gPSB7fSkge1xuICAgICAgaWYgKCFpZCB8fCAhaWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKCFuZWVkQ29uZmlybSkge1xuICAgICAgICB0aGlzLl9leGVjUmVtb3ZlKGlkLCBhY3Rpb24sIHN1Y2Nlc3MsIGZhaWwsIGNvbXBsZXRlLCBuZWVkQ29uZmlybSwgbmVlZExvYWRpbmcsIGxvYWRpbmdUaXRsZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB1bmkuc2hvd01vZGFsKHtcbiAgICAgICAgdGl0bGU6IGNvbmZpcm1UaXRsZSB8fCB0KCd1bmlDbG91ZC5jb21wb25lbnQucmVtb3ZlLnNob3dNb2RhbC50aXRsZScpLFxuICAgICAgICBjb250ZW50OiBjb25maXJtQ29udGVudCB8fCB0KCd1bmlDbG91ZC5jb21wb25lbnQucmVtb3ZlLnNob3dNb2RhbC5jb250ZW50JyksXG4gICAgICAgIHNob3dDYW5jZWw6IHRydWUsXG4gICAgICAgIHN1Y2Nlc3M6IChyZXMpID0+IHtcbiAgICAgICAgICBpZiAoIXJlcy5jb25maXJtKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fZXhlY1JlbW92ZShpZCwgYWN0aW9uLCBzdWNjZXNzLCBmYWlsLCBjb21wbGV0ZSwgbmVlZENvbmZpcm0sIG5lZWRMb2FkaW5nLCBsb2FkaW5nVGl0bGUpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICB1cGRhdGUgKGlkLCB2YWx1ZSwge1xuICAgICAgYWN0aW9uLFxuICAgICAgc2hvd1RvYXN0ID0gdHJ1ZSxcbiAgICAgIHRvYXN0VGl0bGUsXG4gICAgICBzdWNjZXNzLFxuICAgICAgZmFpbCxcbiAgICAgIGNvbXBsZXRlLFxuICAgICAgbmVlZENvbmZpcm0gPSB0cnVlLFxuICAgICAgbmVlZExvYWRpbmcgPSB0cnVlLFxuICAgICAgbG9hZGluZ1RpdGxlID0gJydcbiAgICB9ID0ge30pIHtcbiAgICAgIGlmIChuZWVkTG9hZGluZykge1xuICAgICAgICB1bmkuc2hvd0xvYWRpbmcoe1xuICAgICAgICAgIHRpdGxlOiBsb2FkaW5nVGl0bGVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4gICAgICBsZXQgZGIgPSB1bmlDbG91ZC5kYXRhYmFzZSgpXG4gICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgIGRiID0gZGIuYWN0aW9uKGFjdGlvbilcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRiLmNvbGxlY3Rpb24odGhpcy5fZ2V0Q29sbGVjdGlvbigpKS5kb2MoaWQpLnVwZGF0ZSh2YWx1ZSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHN1Y2Nlc3MgJiYgc3VjY2VzcyhyZXMpXG4gICAgICAgIGlmIChzaG93VG9hc3QpIHtcbiAgICAgICAgICB1bmkuc2hvd1RvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiB0b2FzdFRpdGxlIHx8IHQoJ3VuaUNsb3VkLmNvbXBvbmVudC51cGRhdGUuc3VjY2VzcycpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBmYWlsICYmIGZhaWwoZXJyKVxuICAgICAgICBpZiAobmVlZENvbmZpcm0pIHtcbiAgICAgICAgICB1bmkuc2hvd01vZGFsKHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgc2hvd0NhbmNlbDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgaWYgKG5lZWRMb2FkaW5nKSB7XG4gICAgICAgICAgdW5pLmhpZGVMb2FkaW5nKClcbiAgICAgICAgfVxuICAgICAgICBjb21wbGV0ZSAmJiBjb21wbGV0ZSgpXG4gICAgICB9KVxuICAgIH0sXG4gICAgZ2V0VGVtcCAoaXNUZW1wID0gdHJ1ZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbiAgICAgIGxldCBkYiA9IHVuaUNsb3VkLmRhdGFiYXNlKClcblxuICAgICAgaWYgKHRoaXMuYWN0aW9uKSB7XG4gICAgICAgIGRiID0gZGIuYWN0aW9uKHRoaXMuYWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBkYiA9IGRiLmNvbGxlY3Rpb24odGhpcy5jb2xsZWN0aW9uKVxuXG4gICAgICBpZiAoISghdGhpcy53aGVyZSB8fCAhT2JqZWN0LmtleXModGhpcy53aGVyZSkubGVuZ3RoKSkge1xuICAgICAgICBkYiA9IGRiLndoZXJlKHRoaXMud2hlcmUpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5maWVsZCkge1xuICAgICAgICBkYiA9IGRiLmZpZWxkKHRoaXMuZmllbGQpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mb3JlaWduS2V5KSB7XG4gICAgICAgIGRiID0gZGIuZm9yZWlnbktleSh0aGlzLmZvcmVpZ25LZXkpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ncm91cGJ5KSB7XG4gICAgICAgIGRiID0gZGIuZ3JvdXBCeSh0aGlzLmdyb3VwYnkpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ncm91cEZpZWxkKSB7XG4gICAgICAgIGRiID0gZGIuZ3JvdXBGaWVsZCh0aGlzLmdyb3VwRmllbGQpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kaXN0aW5jdCA9PT0gdHJ1ZSkge1xuICAgICAgICBkYiA9IGRiLmRpc3RpbmN0KClcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9yZGVyYnkpIHtcbiAgICAgICAgZGIgPSBkYi5vcmRlckJ5KHRoaXMub3JkZXJieSlcbiAgICAgIH1cblxuICAgICAgY29uc3Qge1xuICAgICAgICBjdXJyZW50LFxuICAgICAgICBzaXplXG4gICAgICB9ID0gdGhpcy5wYWdpbmF0aW9uSW50ZXJuYWxcbiAgICAgIGNvbnN0IGdldE9wdGlvbnMgPSB7fVxuICAgICAgaWYgKHRoaXMuZ2V0Y291bnQpIHtcbiAgICAgICAgZ2V0T3B0aW9ucy5nZXRDb3VudCA9IHRoaXMuZ2V0Y291bnRcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyZWVPcHRpb25zID0ge1xuICAgICAgICBsaW1pdExldmVsOiB0aGlzLmxpbWl0bGV2ZWwsXG4gICAgICAgIHN0YXJ0V2l0aDogdGhpcy5zdGFydHdpdGhcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmdldHRyZWUpIHtcbiAgICAgICAgZ2V0T3B0aW9ucy5nZXRUcmVlID0gdHJlZU9wdGlvbnNcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmdldHRyZWVwYXRoKSB7XG4gICAgICAgIGdldE9wdGlvbnMuZ2V0VHJlZVBhdGggPSB0cmVlT3B0aW9uc1xuICAgICAgfVxuICAgICAgZGIgPSBkYi5za2lwKHNpemUgKiAoY3VycmVudCAtIDEpKS5saW1pdChzaXplKVxuXG4gICAgICBpZiAoaXNUZW1wKSB7XG4gICAgICAgIGRiID0gZGIuZ2V0VGVtcChnZXRPcHRpb25zKVxuICAgICAgICBkYi51ZGIgPSB0aGlzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYiA9IGRiLmdldChnZXRPcHRpb25zKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGJcbiAgICB9LFxuICAgIHNldFJlc3VsdCAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0LmNvZGUgPT09IDApIHtcbiAgICAgICAgdGhpcy5fZXhlY0xvYWREYXRhU3VjY2VzcyhyZXN1bHQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9leGVjTG9hZERhdGFGYWlsKG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSkpXG4gICAgICB9XG4gICAgfSxcbiAgICBfZXhlY0xvYWREYXRhIChjYWxsYmFjaywgY2xlYXIpIHtcbiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlXG4gICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICcnXG5cbiAgICAgIHRoaXMuX2dldEV4ZWMoKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy5fZXhlY0xvYWREYXRhU3VjY2VzcyhyZXMucmVzdWx0LCBjYWxsYmFjaywgY2xlYXIpXG5cbiAgICAgICAgLy8gI2lmZGVmIEg1XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIHRoaXMuX2RlYnVnRGF0YUxpc3QubGVuZ3RoID0gMFxuICAgICAgICAgIGNvbnN0IGZvcm1hdERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YUxpc3QpKVxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZGF0YUxpc3QpKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1Z0RhdGFMaXN0LnB1c2goLi4uZm9ybWF0RGF0YSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGVidWdEYXRhTGlzdC5wdXNoKGZvcm1hdERhdGEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICNlbmRpZlxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLl9leGVjTG9hZERhdGFGYWlsKGVyciwgY2FsbGJhY2spXG4gICAgICB9KVxuICAgIH0sXG4gICAgX2V4ZWNMb2FkRGF0YVN1Y2Nlc3MgKHJlc3VsdCwgY2FsbGJhY2ssIGNsZWFyKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIGNvdW50XG4gICAgICB9ID0gcmVzdWx0XG4gICAgICB0aGlzLl9pc0VuZGVkID0gY291bnQgIT09IHVuZGVmaW5lZCA/ICh0aGlzLnBhZ2luYXRpb25JbnRlcm5hbC5jdXJyZW50ICogdGhpcy5wYWdpbmF0aW9uSW50ZXJuYWwuc2l6ZSA+PSBjb3VudCkgOiAoZGF0YS5sZW5ndGggPCB0aGlzLnBhZ2VTaXplKVxuICAgICAgdGhpcy5oYXNNb3JlID0gIXRoaXMuX2lzRW5kZWRcblxuICAgICAgY29uc3QgZGF0YTIgPSB0aGlzLmdldG9uZSA/IChkYXRhLmxlbmd0aCA/IGRhdGFbMF0gOiB1bmRlZmluZWQpIDogZGF0YVxuXG4gICAgICBpZiAodGhpcy5nZXRjb3VudCkge1xuICAgICAgICB0aGlzLnBhZ2luYXRpb25JbnRlcm5hbC5jb3VudCA9IGNvdW50XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGRhdGEyLCB0aGlzLl9pc0VuZGVkLCB0aGlzLnBhZ2luYXRpb25JbnRlcm5hbClcbiAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZXZlbnRzLmxvYWQsIGRhdGEyKVxuXG4gICAgICBpZiAodGhpcy5nZXRvbmUgfHwgdGhpcy5wYWdlRGF0YSA9PT0gcGFnZU1vZGUucmVwbGFjZSkge1xuICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjbGVhcikge1xuICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhMlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGF0YUxpc3QucHVzaCguLi5kYXRhMilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgX2V4ZWNMb2FkRGF0YUZhaWwgKGVyciwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB0aGlzLiRlbWl0KGV2ZW50cy5lcnJvciwgZXJyKVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgfVxuICAgIH0sXG4gICAgX2dldEV4ZWMgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VGVtcChmYWxzZSlcbiAgICB9LFxuICAgIF9leGVjUmVtb3ZlIChpZCwgYWN0aW9uLCBzdWNjZXNzLCBmYWlsLCBjb21wbGV0ZSwgbmVlZENvbmZpcm0sIG5lZWRMb2FkaW5nLCBsb2FkaW5nVGl0bGUpIHtcbiAgICAgIGlmICghdGhpcy5jb2xsZWN0aW9uIHx8ICFpZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgaWRzID0gQXJyYXkuaXNBcnJheShpZCkgPyBpZCA6IFtpZF1cbiAgICAgIGlmICghaWRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMb2FkaW5nKSB7XG4gICAgICAgIHVuaS5zaG93TG9hZGluZyh7XG4gICAgICAgICAgbWFzazogdHJ1ZSxcbiAgICAgICAgICB0aXRsZTogbG9hZGluZ1RpdGxlXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4gICAgICBjb25zdCBkYiA9IHVuaUNsb3VkLmRhdGFiYXNlKClcbiAgICAgIGNvbnN0IGRiQ21kID0gZGIuY29tbWFuZFxuXG4gICAgICBsZXQgZXhlYyA9IGRiXG4gICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgIGV4ZWMgPSBleGVjLmFjdGlvbihhY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIGV4ZWMuY29sbGVjdGlvbih0aGlzLl9nZXRDb2xsZWN0aW9uKCkpLndoZXJlKHtcbiAgICAgICAgX2lkOiBkYkNtZC5pbihpZHMpXG4gICAgICB9KS5yZW1vdmUoKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKHJlcy5yZXN1bHQpXG4gICAgICAgIGlmICh0aGlzLnBhZ2VEYXRhID09PSBwYWdlTW9kZS5yZXBsYWNlKSB7XG4gICAgICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZURhdGEoaWRzKVxuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGZhaWwgJiYgZmFpbChlcnIpXG4gICAgICAgIGlmIChuZWVkQ29uZmlybSkge1xuICAgICAgICAgIHVuaS5zaG93TW9kYWwoe1xuICAgICAgICAgICAgY29udGVudDogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICBzaG93Q2FuY2VsOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBpZiAobmVlZExvYWRpbmcpIHtcbiAgICAgICAgICB1bmkuaGlkZUxvYWRpbmcoKVxuICAgICAgICB9XG4gICAgICAgIGNvbXBsZXRlICYmIGNvbXBsZXRlKClcbiAgICAgIH0pXG4gICAgfSxcbiAgICBfZ2V0Q29sbGVjdGlvbiAoKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuY29sbGVjdGlvbi5pbmRleE9mKCcsJylcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBpbmRleCA+IDAgPyB0aGlzLmNvbGxlY3Rpb24uc3Vic3RyaW5nKDAsIGluZGV4KSA6IHRoaXMuY29sbGVjdGlvblxuICAgICAgcmV0dXJuIGNvbGxlY3Rpb25cbiAgICB9LFxuICAgIHJlbW92ZURhdGEgKGlkcykge1xuICAgICAgY29uc3QgaWwgPSBpZHMuc2xpY2UoMClcbiAgICAgIGNvbnN0IGRsID0gdGhpcy5kYXRhTGlzdFxuICAgICAgZm9yIChsZXQgaSA9IGRsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gaWwuaW5kZXhPZihkbFtpXS5faWQpXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgZGwuc3BsaWNlKGksIDEpXG4gICAgICAgICAgaWwuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBfZGlzcGF0Y2hFdmVudCAodHlwZSwgZGF0YSkge1xuICAgICAgaWYgKHRoaXMuX2NoYW5nZURhdGFGdW5jdGlvbikge1xuICAgICAgICB0aGlzLl9jaGFuZ2VEYXRhRnVuY3Rpb24oZGF0YSwgdGhpcy5faXNFbmRlZCwgdGhpcy5wYWdpbmF0aW9uSW50ZXJuYWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRlbWl0KHR5cGUsIGRhdGEsIHRoaXMuX2lzRW5kZWQsIHRoaXMucGFnaW5hdGlvbkludGVybmFsKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuPC9zY3JpcHQ+XG4iXSwic291cmNlUm9vdCI6IiJ9
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'node-modules/@dcloudio/uni-cli-shared/components/unicloud-db-create-component',
    {
        'node-modules/@dcloudio/uni-cli-shared/components/unicloud-db-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(49))
        })
    },
    [['node-modules/@dcloudio/uni-cli-shared/components/unicloud-db-create-component']]
]);
