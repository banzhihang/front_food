{"version":3,"sources":["webpack:///C:/Users/m/Documents/HBuilderProjects/food/pages/index/index.vue?b979","webpack:///C:/Users/m/Documents/HBuilderProjects/food/pages/index/index.vue?e13b","uni-app:///main.js",null,"webpack:///C:/Users/m/Documents/HBuilderProjects/food/pages/index/index.vue?6668","webpack:///C:/Users/m/Documents/HBuilderProjects/food/pages/index/index.vue?7e4d","webpack:///C:/Users/m/Documents/HBuilderProjects/food/pages/index/index.vue?3f10","uni-app:///pages/index/index.vue","webpack:///C:/Users/m/Documents/HBuilderProjects/food/components/search/location.vue?30fe","webpack:///C:/Users/m/Documents/HBuilderProjects/food/components/search/location.vue?b3b5","webpack:///C:/Users/m/Documents/HBuilderProjects/food/components/search/location.vue?73a5","webpack:///C:/Users/m/Documents/HBuilderProjects/food/components/search/location.vue?3a51","uni-app:///components/search/location.vue","webpack:///C:/Users/m/Documents/HBuilderProjects/food/components/search/location.vue?94c1","webpack:///C:/Users/m/Documents/HBuilderProjects/food/components/search/location.vue?5bbc"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import mod from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637307304176\n      var cssReload = require(\"C:/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uDropdown: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-dropdown/u-dropdown\" */ \"@/uview-ui/components/u-dropdown/u-dropdown.vue\"\n      )\n    },\n    uDropdownItem: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-dropdown-item/u-dropdown-item\" */ \"@/uview-ui/components/u-dropdown-item/u-dropdown-item.vue\"\n      )\n    },\n    mescrollUni: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni\" */ \"@/uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    },\n    foodList: function() {\n      return import(\n        /* webpackChunkName: \"components/food-list/food-list\" */ \"@/components/food-list/food-list.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"top-select\">\r\n\t\t\t<view class=\"top\">\r\n\t\t\t\t<u-navbar :is-back=\"false\" :border-bottom=\"false\"  >\r\n\t\t\t\t\t<view class=\"search-wrap\">\r\n\t\t\t\t\t\t<view class=\"location\">\r\n\t\t\t\t\t\t\t<locationUi :locationStr=\"location\" @chooseLocation=\"changeLocation\"></locationUi>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view @click=\"jumpToSearch\">\r\n\t\t\t\t\t\t\t<u-icon name=\"search\" size=\"38\" color=\"#1a5abf\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-navbar>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search-select\">\r\n\t\t\t\t<u-dropdown height=\"80\" title-size=\"25\" border-radius=\"10\" ref=\"dropDown\"\r\n\t\t\t\tduration=\"400\" active-color=\"#1a56b4\">\r\n\t\t\t\t\t<u-dropdown-item  :title=\"distanceText\" v-model=\"distanceValue\" :options=\"distance\" @change=\"changeSelectDistance\">\r\n\t\t\t\t\t</u-dropdown-item>\r\n\t\t\t\t\t<u-dropdown-item  :title=\"sortText\" v-model=\"sortValue\" :options=\"sort\" @change=\"changeSelectSort\">\r\n\t\t\t\t\t</u-dropdown-item>\r\n\t\t\t\t</u-dropdown>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"select-blank\">\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 下拉刷新 -->\r\n\t\t<mescroll-uni ref=\"mescrollRef\" @down=\"firstSyncData\" top=250 @up=\"getNext\" \r\n\t\t:up=\"upOption\" :down=\"downOption\" @init=\"init\" >\r\n\t\t\t<view class=\"middle\">\r\n\t\t\t\t<food-list :foodsInfo=\"foods\" @wantEta=\"wantEatHandle\"></food-list>\r\n\t\t\t</view>\r\n\t\t\t<u-empty text=\"附近没有美食,扩大一下筛选范围吧\" mode=\"data\" margin-top=\"100\" v-show=\"showEmpty === true && showNoAuth===false\"></u-empty>\r\n\t\t\t<u-empty text=\"授权之后下拉刷新\" mode=\"data\" margin-top=\"100\" v-show=\"showNoAuth === true && showEmpty === false\"></u-empty>\r\n\t\t</mescroll-uni>\r\n\t\t<!-- 右下角发布按钮 -->\r\n\t\t<view class=\"write\" @click=\"jumpFoodPush\" v-if=\"!showLoading\">\r\n\t\t\t<u-image width=\"70rpx\" height=\"70rpx\" src=\"https://hotschool.ltd/add_food.png\"></u-image>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport foodList from '../../components/food-list/food-list.vue';\r\n\timport MescrollMixin from \"@/uni_modules/mescroll-uni/components/mescroll-uni/mescroll-mixins.js\";\r\n\timport locationUi from 'components/search/location.vue'\r\n\timport {\r\n\t\twantEatUrl\r\n\t} from '@/util/api.js';\r\n\timport {\r\n\t\tencrypt\r\n\t} from '@/util/encrypt/encrypt.js'\r\n\timport {\r\n\t\tcheckLogin\r\n\t} from '@/util/checkLogin.js'\r\n\timport {getLocationFail,getUserInfoFail} from '@/util/checkAuth.js'\r\n\texport default {\r\n\t\tmixins: [MescrollMixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tupOption:{\r\n\t\t\t\t\tuse: true,\r\n\t\t\t\t\tauto:false,\r\n\t\t\t\t\tpage:{\r\n\t\t\t\t\t\tnum : 0 ,\r\n\t\t\t\t\t\tsize : 6 ,\r\n\t\t\t\t\t\ttime : null\r\n\t\t\t\t\t},\r\n\t\t\t\t\tempty:{\n\t\t\t\t\t\t  use : true ,\n\t\t\t\t\t\t  icon : null ,\n\t\t\t\t\t\t  tip : \"暂无相关数据\",\n\t\t\t\t\t\t  btnText : \"\",\n\t\t\t\t\t\t  fixed: false,\n\t\t\t\t\t\t  top: \"100rpx\",\n\t\t\t\t\t\t  zIndex: 99\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdownOption:{\r\n\t\t\t\t\tauto:true,\r\n\t\t\t\t\tautoShowLoading:true,\r\n\t\t\t\t\toffset:120,\r\n\t\t\t\t\toutOffsetRate:0.5\r\n\t\t\t\t},\r\n\t\t\t\tcustomStyle:{\r\n\t\t\t\t\tborderStyle:\"none\" ,\r\n\t\t\t\t\tbackgroundColor: \"#F6F6F6\",\r\n\t\t\t\t\tfontSize:\"25rpx\",\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tkeyword:\"\",\r\n\t\t\t\tdistanceValue:\"默认\",\r\n\t\t\t\tdistanceText:\"默认\",\r\n\t\t\t\tsortValue:\"score\",\r\n\t\t\t\tsortText:\"最高评分\",\r\n\t\t\t\tdistance:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"默认\",\r\n\t\t\t\t\t\tvalue:\"默认\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"< 500m\",\r\n\t\t\t\t\t\tvalue:\"0.5km\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"< 1km\",\r\n\t\t\t\t\t\tvalue:\"1km\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"< 3km\",\r\n\t\t\t\t\t\tvalue:\"3km\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"< 5km\",\r\n\t\t\t\t\t\tvalue:\"5km\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"< 10km\",\r\n\t\t\t\t\t\tvalue:\"10km\"\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tsort:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"最高评分\",\r\n\t\t\t\t\t\tvalue:\"score\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"最多评分\",\r\n\t\t\t\t\t\tvalue:\"vote_number\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel:\"最新发布\",\r\n\t\t\t\t\t\tvalue:\"add_time\"\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tdistanceDict:{\r\n\t\t\t\t\t\"默认\":\"默认\",\r\n\t\t\t\t\t\"1km\":\"< 1km\",\r\n\t\t\t\t\t\"3km\":\"< 3km\",\r\n\t\t\t\t\t\"5km\":\"< 5km\",\r\n\t\t\t\t\t\"10km\":\"< 10km\",\r\n\t\t\t\t\t\"0.5km\":\"< 500m\"\r\n\t\t\t\t},\r\n\t\t\t\tsortDict:{\r\n\t\t\t\t\t\"score\":\"最高评分\",\r\n\t\t\t\t\t\"vote_number\":\"最多评分\",\r\n\t\t\t\t\t\"add_time\":\"最新发布\",\r\n\t\t\t\t},\r\n\t\t\t\tfoods:[],\r\n\t\t\t\tnextUrl:\"\",\r\n\t\t\t\thaveNext:false,\r\n\t\t\t\t// 用户当前的定位坐标\r\n\t\t\t\tlocation:\"\",\r\n\t\t\t\tshowEmpty:false,\r\n\t\t\t\tshowNoAuth:false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tfoodList,\r\n\t\t\tlocationUi,\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tinit(mescroll) {\r\n\t\t\t\tthis.mescroll = mescroll;\r\n\t\t\t},\r\n\t\t\t// 获得美食数据\r\n\t\t\tasync getFoodData() {\r\n\t\t\t\tthis.showNoAuth = false\r\n\t\t\t\tconst sort = this.sortValue\r\n\t\t\t\tconst distance = this.distanceValue\r\n\t\t\t\tconst from_point = 0\r\n\t\t\t\tconst size = 15\r\n\t\t\t\t\r\n\t\t\t\tconst {data:res} = await this.$http.get(\"/search/filter\",{ params:{\r\n\t\t\t\t\t\"location\":this.location,\r\n\t\t\t\t\t\"sort\":sort,\r\n\t\t\t\t\t\"distance\":distance,\r\n\t\t\t\t\t\"from_point\":from_point,\r\n\t\t\t\t\t\"size\":size\r\n\t\t\t\t}})\r\n\t\t\t\r\n\t\t\t\tthis.foods = res.data.filter_res\r\n\t\t\t\tif (this.foods.length === 0){\r\n\t\t\t\t\tthis.showEmptyUi()\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.showResultUi()\r\n\t\t\t\t}\r\n\t\t\t\tthis.nextUrl = res.data.next\r\n\t\t\t\tthis.haveNext = res.data.has_next\r\n\t\t\t},\r\n\t\t\t// 首次同步数据，下拉刷新同步数据\r\n\t\t\tfirstSyncData() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tif (that.location === \"\"){\r\n\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\t\t\tsuccess: async function (r){\r\n\t\t\t\t\t\t\t\t\t\tthat.location = r.latitude.toString() + \",\" + r.longitude.toString()\r\n\t\t\t\t\t\t\t\t\t\tthat.dumpUpStart()\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail:async function() {\r\n\t\t\t\t\t\t\t\t\t\tthat.showNoAuth = true\r\n\t\t\t\t\t\t\t\t\t\tgetLocationFail()\r\n\t\t\t\t\t\t\t\t\t\tthat.mescroll.endErr();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(){\r\n\t\t\t\t\t\t\t\tgetUserInfoFail()\r\n\t\t\t\t\t\t\t\tthat.showNoAuth = true\r\n\t\t\t\t\t\t\t\tthat.mescroll.endErr();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthat.dumpUpStart()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getNext(page) {\r\n\t\t\t\tconst {data:res} = await this.$http.get(this.nextUrl,{\r\n\t\t\t\t\t\"baseURL\":\"\"\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.foods = [...this.foods,...res.data.filter_res]\r\n\t\t\t\tthis.nextUrl = res.data.next\r\n\t\t\t\tthis.haveNext = res.data.has_next\r\n\t\t\t\tlet curDataLen = res.data.filter_res.length\r\n\t\t\t\tthis.mescroll.endSuccess(100,this.haveNext)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 地理位置子组件触发的事件\r\n\t\t\tasync changeLocation(locationInfo) {\r\n\t\t\t\tthis.location = locationInfo.latitude.toString() + \",\" + locationInfo.longitude.toString()\r\n\t\t\t\tthis.mescroll.triggerDownScroll()\r\n\t\t\t},\r\n\t\t\t// 下拉刷新\r\n\t\t\tasync dumpUpStart(){\r\n\t\t\t\tawait this.getFoodData()\r\n\t\t\t\tthis.mescroll.endSuccess(100,this.haveNext)\r\n\t\t\t},\r\n\t\t\tchangeSelectDistance(value){\r\n\t\t\t\tthis.distanceText = this.distanceDict[value]\r\n\t\t\t\tthis.dumpUpStart()\r\n\t\t\t},\r\n\t\t\tchangeSelectSort(value){\r\n\t\t\t\tthis.sortText = this.sortDict[value]\r\n\t\t\t\tthis.dumpUpStart()\r\n\t\t\t},\r\n\t\t\t// 跳转到美食发布页面\r\n\t\t\tjumpFoodPush(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tlocation:this.location\r\n\t\t\t\t}\r\n\t\t\t\tlet item = encodeURIComponent(JSON.stringify(data))\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/food-push/food-push?item=\"+item,\r\n\t\t\t\t\tanimationDuration:700,\r\n\t\t\t\t\tanimationType: 'slide-in-bottom',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tjumpToSearch(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tlocation:this.location\r\n\t\t\t\t}\r\n\t\t\t\tlet item = encodeURIComponent(JSON.stringify(data))\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/index/search?item=\"+item,\r\n\t\t\t\t\tanimationDuration:700,\r\n\t\t\t\t\tanimationType: 'slide-in-bottom',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tshowEmptyUi(){\r\n\t\t\t\tthis.showEmpty = true\r\n\t\t\t\tthis.mescroll.optUp.use = false\r\n\t\t\t},\r\n\t\t\tshowResultUi(){\r\n\t\t\t\tthis.showEmpty = false,\r\n\t\t\t\tthis.mescroll.optUp.use = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 想吃\r\n\t\t\twantEatHandle(index) {\r\n\t\t\t\t// 先检查用户是否登录\r\n\t\t\t\tconst canContinue = checkLogin()\r\n\t\t\t\tif (!canContinue) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet obj = this.foods[index]\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"food\": obj.id\r\n\t\t\t\t}\r\n\t\t\t\tthis.subPostData(data, wantEatUrl,index)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 真正发起数据请求\r\n\t\t\tasync subPostData(data, push_url,index) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"标记中\",\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tconst url = push_url\r\n\t\t\t\tconst enData = encrypt(data)\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata: res\r\n\t\t\t\t} = await this.$http.post(url, enData)\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"标记成功\",\r\n\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\tlet obj = that.foods[index]\r\n\t\t\t\t\t\tobj.is_want_eated = 2\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t},\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n@import '../../common/uni-ui.scss';\r\n.top-select {\r\n\tposition: relative;\r\n\tbackground-color: \"#FFFFFF\";\r\n\t.select-blank{\r\n\t\theight: 80rpx;\r\n\t}\r\n\t.search-select {\r\n\t\tposition: fixed;\r\n\t\tz-index: 10;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t.distance-select {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t/* display: flex; */\r\n\t\t\tjustify-content: space-around;\r\n\t\t\t.distance-select-btn {\r\n\t\t\t\tmargin: 20rpx 0rpx 20rpx 0rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.sort-select{\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t/* display: flex; */\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\t.sort-select-btn {\r\n\t\t\t\tmargin: 20rpx 0rpx 20rpx 0rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n.top{\r\n\t.search-wrap {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 0 30rpx 0 20rpx;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\t\r\n\t}\r\n}\r\n\r\n.write {\r\n\t\twidth: 73rpx;\r\n\t\theight: 70rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 120rpx;\r\n\t\tright: 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tz-index: 1000;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./location.vue?vue&type=template&id=3978445e&scoped=true&\"\nvar renderjs\nimport script from \"./location.vue?vue&type=script&lang=js&\"\nexport * from \"./location.vue?vue&type=script&lang=js&\"\nimport style0 from \"./location.vue?vue&type=style&index=0&id=3978445e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3978445e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/search/location.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=template&id=3978445e&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getLocationShowName(_vm.locationName)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"box-x\" @click=\"chooseLocation\">\n\t\t<view>\r\n\t\t\t<u-icon name=\"map\" size=\"40\" color=\"#1a5abf\"></u-icon>\r\n\t\t</view>\r\n\t\t<view class=\"location-name\">\r\n\t\t\t<text>{{getLocationShowName(locationName)}}</text>\r\n\t\t\t<u-icon name=\"arrow-down\" size=\"20\" color=\"#1a5abf\" style=\"margin-left: 2rpx;\"></u-icon>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport {getLocationFail,getUserInfoFail} from '@/util/checkAuth.js'\n\texport default {\r\n\t\tprops:{\r\n\t\t\tlocationStr:{\r\n\t\t\t\ttype:String\r\n\t\t\t}\r\n\t\t},\r\n\t\tname:\"locationUi\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlocationName:\"北京市朝阳区\",\r\n\t\t\t\tneedGetNameFromBackend:true\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetLocationShowName(name) {\r\n\t\t\t\tif (name.length > 8) {\r\n\t\t\t\t\treturn name.slice(0,8) + \"...\"\r\n\t\t\t\t}else {\r\n\t\t\t\t\treturn name\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取用户当前的定位地点\r\n\t\t\tgetUserLocation(){\r\n\t\t\t\tconst that = this\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\t\tsuccess: async function (r){\r\n\t\t\t\t\t\t\t\t\tthat.location = r.latitude.toString() + \",\" + r.longitude.toString()\r\n\t\t\t\t\t\t\t\t\tthat.getLocationName()\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail:async function() {\r\n\t\t\t\t\t\t\t\t\tthat.getLocationName()\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"获取定位失败失败\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(){\r\n\t\t\t\t\t\t\tgetUserInfoFail()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\tasync getLocationName() {\r\n\t\t\t\tconst url = \"/location\"\r\n\t\t\t\tconst {data:res} = await this.$http.get(url,{ params:{\r\n\t\t\t\t\t\t\"location\":this.locationStr\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.locationName = res.data.address_name\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 用户选择当前定位\r\n\t\t\tchooseLocation(){\r\n\t\t\t\tconst that = this\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t if (res.name) {\r\n\t\t\t\t\t\t\t\t\t that.needGetNameFromBackend = false\r\n\t\t\t\t\t\t\t\t\t that.locationName = res.name\r\n\t\t\t\t\t\t\t\t } else {\r\n\t\t\t\t\t\t\t\t\t that.needGetNameFromBackend = true\r\n\t\t\t\t\t\t\t\t\t that.locationName = \".\"\r\n\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t that.$emit(\"chooseLocation\",res)\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tgetUserInfoFail()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t},\r\n\t\twatch:{\r\n\t\t\tlocationStr:{\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler:function(newVal,oldVal){\r\n\t\t\t\t\tif (newVal === \"\"){\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.needGetNameFromBackend) {\r\n\t\t\t\t\t\tthis.getLocationName()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n.box-x{\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\t.location-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tmargin-bottom: 7rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n}\n</style>\n","import mod from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=style&index=0&id=3978445e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./location.vue?vue&type=style&index=0&id=3978445e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637305064057\n      var cssReload = require(\"C:/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}